//#RequireContext CSmMode
#Extends "Modes/TrackMania/TM_Rounds_Online.Script.txt"
#Include "ManiaApps/Nadeo/TMxSM/Race/UIModules/TimeGap_Server.Script.txt" as UIModules_TimeGap
#Include "ManiaApps/Nadeo/TMxSM/Race/UIModules/Chrono_Server.Script.txt" as UIModules_Chrono

#Include "TextLib" as TL
#Include "MathLib" as ML
#Include "ColorLib" as CL

#Include "Libs/TMKart/Effects.Script.txt" as Effects
#Include "Libs/TMKart/UI/GameUI.Script.txt" as GameUI
#Include "Libs/TMKart/UI/EventFeed.Script.txt" as EventFeed

#Setting S_TrustClientSimu True
#Setting S_UseCrudeExtrapolation False

///////////
// Plugs //
///////////

***Match_StartServer***
***
UsePvECollisions = True;
UsePvPCollisions = True;
// ClientManiaAppUrl = "";
Effects::InitEffects();
***

***Match_AfterLoadHud***
***
UIModules_TimeGap::Unload();
UIModules_Chrono::Unload();
***


***Match_PlayLoop***
***
Effects::Yield();
***

***Match_InitMap***
***
Effects::CleanUp();
GameUI::SyncLaps();
***

***Match_InitMatch***
***
Effects::CleanUp();
EventFeed::ClearMessages();
***

***Match_EndMatch***
***
EventFeed::ClearMessages();
***

***Match_InitRound***
***
Effects::CleanUp();
***
